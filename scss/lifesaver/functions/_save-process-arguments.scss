@function save-process-arguments($arguments) {
  $arguments: cola-flatten($arguments);

  $properties: ();
  $values: ();
  $units: ();
  $scales: ();
  $styles: ();
  $colors: ();
  $flags: ();

  @each $argument in $arguments {
    @if $argument == x { $argument: null; }

    @if cola-type-of($argument) == length or $argument == un {
      $units: cola-join($units, $argument);
    }
    @else if cola-type-of($argument) == string {
      $properties: cola-join($properties, $argument);
    }
    @else if cola-type-of($argument) == number and $units != () {
      $scales: cola-join($scales, $argument);
    }
    @else if cola-type-of($argument) == null or cola-type-of($argument) == number {
      $values: cola-join($values, $argument);
    }
    @else if cola-type-of($argument) == style {
      @if cola-type-of($values) == null or cola-type-of($values) == style {
        $values: cola-join($values, $argument);
      }
      @else {
        $styles: cola-join($styles, $argument);
      }
    }
    @else if cola-type-of($argument) == color {
      @if cola-type-of($values) == null or cola-type-of($values) == color {
        $values: cola-join($values, $argument);
      }
      @else {
        $colors: cola-join($colors, $argument);
      }
    }
    @else if cola-type-of($argument) == flag {
      $flags: cola-join($flags, $argument);
    }
  }

  $values: save-compress-values($values);

  @return (
    properties: $properties,
    values: $values,
    units: $units,
    scales: $scales,
    styles: $styles,
    colors: $colors,
    flags: $flags
  );
}
